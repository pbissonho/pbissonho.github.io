(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{152:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return p}));var r=n(2),o=n(9),a=(n(0),n(177)),c={title:"ScopeProvider"},i={id:"reference/koin-flutter/scope_provider",isDocsHomePage:!1,title:"ScopeProvider",description:"A widget that allows you to propagate a scope through the widget tree. Useful when you need to access the same scope on different routes(Pages).",source:"@site/docs/reference/koin-flutter/scope_provider.md",permalink:"/docs/reference/koin-flutter/scope_provider",editUrl:"https://github.com/pbissonho/koin.dart/tree/master/website/docs/reference/koin-flutter/scope_provider.md",sidebar:"docs",previous:{title:"Scope",permalink:"/docs/reference/koin-flutter/scope"},next:{title:"Get Instances",permalink:"/docs/reference/koin-flutter/get-instances"}},s=[{value:"Writing a module",id:"writing-a-module",children:[]},{value:"Writing a page",id:"writing-a-page",children:[]},{value:"The second page",id:"the-second-page",children:[]}],l={rightToc:s};function p(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"A widget that allows you to propagate a scope through the widget tree. Useful when you need to access the same scope on different routes(Pages)."),Object(a.b)("h2",{id:"writing-a-module"},"Writing a module"),Object(a.b)("p",null,"First define a module with a scope."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-dart"}),"class MyClass {\n  final int value;\n\n  MyClass(this.value);\n}\n\nfinal myModule = Module()..scopeOne<MyClass, FirstPage>((scope) => MyClass(10));\n")),Object(a.b)("h2",{id:"writing-a-page"},"Writing a page"),Object(a.b)("p",null,'As this page has a scope it is possible to access it directly through the "currentScope".\nWhen navigating to the second page you will be using ScopeProvider to allow the SecondPage to access\nthe scope of the FirstPage.'),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-dart"}),'class FirstPage extends StatefulWidget {\n  @override\n  _FirstPageState createState() => _FirstPageState();\n}\n\nclass _FirstPageState extends State<FirstPage> with ScopeStateMixin {\n  @override\n  Widget build(BuildContext context) {\n    final bloc = currentScope.get<MyClass>();\n    return Scaffold(\n        appBar: AppBar(\n          title: Text("Home Page"),\n        ),\n        body: Column(\n          children: [\n            Center(\n              child: Text(bloc.value.toString()),\n            ),\n            FlatButton(\n              color: Colors.red,\n              onPressed: () {\n                Navigator.push(context,\n                    MaterialPageRoute(builder: (BuildContext context) {\n                  \n                  // Using the ScopeProvider to provide the FirstPage scope for the SecondPage.\n                  return ScopeProvider(\n                      child: SecondPage(), scope: currentScope);\n                }));\n              },\n              child: Text("Push Second Page"),\n            ),\n          ],\n        ));\n  }\n}\n')),Object(a.b)("h2",{id:"the-second-page"},"The second page"),Object(a.b)("p",null,"As the second page will access a scope provided by ScopeProvider, the way to access it is a little different.\nYou will need to access the scope by context, using 'context.scope' instead of 'currentScope'."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-dart"}),'class SecondPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    // Retrieves the scope passed by the FirstPage.\n    // The bloc instance is the same as the FirstPage.\n    final bloc = context.scope.get<MyClass>();\n    return Scaffold(\n      body: Center(\n        child: Text(bloc.value.toString()),\n      ),\n      appBar: AppBar(\n        title: Text("Second Page"),\n      ),\n    );\n  }\n}\n')))}p.isMDXComponent=!0},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),p=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},g=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(n),g=r,f=u["".concat(c,".").concat(g)]||u[g]||d[g]||a;return n?o.a.createElement(f,i(i({ref:t},l),{},{components:n})):o.a.createElement(f,i({ref:t},l))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,c=new Array(a);c[0]=g;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,c[1]=i;for(var l=2;l<a;l++)c[l]=n[l];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,n)}g.displayName="MDXCreateElement"}}]);