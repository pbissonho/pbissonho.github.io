(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{166:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return o})),a.d(t,"default",(function(){return p}));var n=a(2),l=a(9),r=(a(0),a(177)),i={title:"Dart"},c={id:"start/quickstart/dart",isDocsHomePage:!1,title:"Dart",description:"Getting Started with Dart",source:"@site/docs/start/quickstart/dart.md",permalink:"/docs/start/quickstart/dart",editUrl:"https://github.com/pbissonho/koin.dart/tree/master/website/docs/start/quickstart/dart.md",sidebar:"docs",previous:{title:"Support",permalink:"/docs/support"},next:{title:"Flutter",permalink:"/docs/start/quickstart/flutter"}},o=[{value:"Getting Started with Dart",id:"getting-started-with-dart",children:[]},{value:"Setup",id:"setup",children:[]},{value:"The application",id:"the-application",children:[{value:"Data holder",id:"data-holder",children:[]},{value:"Service",id:"service",children:[]}]},{value:"The application class",id:"the-application-class",children:[]},{value:"Declaring dependencies",id:"declaring-dependencies",children:[]},{value:"That&#39;s it!",id:"thats-it",children:[]}],s={rightToc:o};function p(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"getting-started-with-dart"},"Getting Started with Dart"),Object(r.b)("p",null,"This tutorial lets you write a Dart application and use Koin inject and retrieve your components."),Object(r.b)("h2",{id:"setup"},"Setup"),Object(r.b)("p",null,"First, check that the ",Object(r.b)("inlineCode",{parentName:"p"},"koin")," package dependency is added like below:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Package"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Pub"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"https://github.com/pbissonho/koin.dart/tree/master/packages/koin"}),"koin")),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(n.a)({parentName:"td"},{href:"https://pub.dev/packages/koin"}),Object(r.b)("img",Object(n.a)({parentName:"a"},{src:"https://img.shields.io/pub/v/koin.svg",alt:"pub package"}))))))),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"dependencies:\n  koin: ^[laste_version]\n")),Object(r.b)("h2",{id:"the-application"},"The application"),Object(r.b)("p",null,"In our small app we need to have 2 components:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"HelloMessageData - hold data"),Object(r.b)("li",{parentName:"ul"},"HelloService - use and display data from HelloMessageData"),Object(r.b)("li",{parentName:"ul"},"HelloApplication - retrieve and use HelloService")),Object(r.b)("h3",{id:"data-holder"},"Data holder"),Object(r.b)("p",null,"Let's create a ",Object(r.b)("inlineCode",{parentName:"p"},"HelloMessageData")," data class to hold our data:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-dart"}),'//\n// A class to hold our message data\n//\nclass HelloMessageData {\n    final message = "Hello Koin!";\n}\n')),Object(r.b)("h3",{id:"service"},"Service"),Object(r.b)("p",null,"Let's create a service to display our data from ",Object(r.b)("inlineCode",{parentName:"p"},"HelloMessageData"),". Let's write ",Object(r.b)("inlineCode",{parentName:"p"},"HelloServiceImpl")," class and its interface ",Object(r.b)("inlineCode",{parentName:"p"},"HelloService"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-dart"}),'//\n// Hello Service - interface\n//\nabstract class HelloService {\n    String hello();\n}\n\n// Hello Service Impl\n// Will use HelloMessageData data\nclass HelloServiceImpl implements HelloService {\n    final HelloMessageData helloMessageData;\n\n    HelloServiceImpl(this.helloMessageData)\n\n    @override\n    String hello(){\n        return "Hey, ${helloMessageData.message}";\n    }\n}\n')),Object(r.b)("h2",{id:"the-application-class"},"The application class"),Object(r.b)("p",null,"To run our ",Object(r.b)("inlineCode",{parentName:"p"},"HelloService")," component, we need to create a runtime component. Let's write a ",Object(r.b)("inlineCode",{parentName:"p"},"HelloApplication")," class and tag it with ",Object(r.b)("inlineCode",{parentName:"p"},"KoinComponent")," interface. This will later allows us to use the ",Object(r.b)("inlineCode",{parentName:"p"},"get()")," functions to retrieve our component:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-dart"}),"\n// HelloApplication - Application Class\n// use HelloService\nclass HelloApplication extends KoinComponent {\n\n    // Inject HelloService\n    final helloService = get<HelloService>();\n\n    // display our data\n    static sayHello(){\n        print(helloService.hello());\n    }\n}\n")),Object(r.b)("h2",{id:"declaring-dependencies"},"Declaring dependencies"),Object(r.b)("p",null,"Now, let's assemble ",Object(r.b)("inlineCode",{parentName:"p"},"HelloMessageData")," with ",Object(r.b)("inlineCode",{parentName:"p"},"HelloService"),", with a Koin module:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-dart"}),"final helloModule = Module()\n    ..single((s) => HelloMessageData())\n    ..single<HelloService>((s) => HelloServiceImpl(s.get()))\n\n")),Object(r.b)("p",null,"We declare each component as ",Object(r.b)("inlineCode",{parentName:"p"},"single"),", as singleton instances."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"single((s) => HelloMessageData())")," : declare a singleton of ",Object(r.b)("inlineCode",{parentName:"li"},"HelloMessageData")," instance"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"single<HelloService>((s) => HelloServiceImpl(s.get()))")," : Build ",Object(r.b)("inlineCode",{parentName:"li"},"HelloServiceImpl")," with injected instance of ",Object(r.b)("inlineCode",{parentName:"li"},"HelloMessageData"),", declared as singleton of ",Object(r.b)("inlineCode",{parentName:"li"},"HelloService"),".")),Object(r.b)("h2",{id:"thats-it"},"That's it!"),Object(r.b)("p",null,"Just start our app from a ",Object(r.b)("inlineCode",{parentName:"p"},"main")," function:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-dart"}),"void main() {\n\nstartKoin((app) {\n app.printLogger(level: Level.debug);\n app.module(helloModule);\n});\n \n HelloApplication().sayHello();\n}\n")))}p.isMDXComponent=!0},177:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return m}));var n=a(0),l=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=l.a.createContext({}),p=function(e){var t=l.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},b=function(e){var t=p(e.components);return l.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return l.a.createElement(l.a.Fragment,{},t)}},u=l.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,i=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),b=p(a),u=n,m=b["".concat(i,".").concat(u)]||b[u]||d[u]||r;return a?l.a.createElement(m,c(c({ref:t},s),{},{components:a})):l.a.createElement(m,c({ref:t},s))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=u;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var s=2;s<r;s++)i[s]=a[s];return l.a.createElement.apply(null,i)}return l.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);